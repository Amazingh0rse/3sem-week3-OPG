<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Week3D4 Using map and filter to create dynamic table-rows</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    </head>
    <body onload="carsToTable()">
        <h1>Hello!</h1>
        <hr>

       <table class="table" id="bilTabel">
            <thead>
                <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Year</th>
                    <th scope="col">Make</th>
                    <th scope="col">Model</th>
                    <th scope="col">Price</th>
                </tr>
            </thead>
            <tbody id="tbody">

            </tbody>
        </table>
        <input type="number" id="prisVaelger" placeholder="Angiv pris" >
        <button onclick="carsToTable()">Price less than</button>


        <script>

            var cars = [
                {id: 1, year: 1997, make: 'Ford', model: 'E350', price: 3000},
                {id: 2, year: 1999, make: 'Chevy', model: 'Venture', price: 4900},
                {id: 3, year: 2000, make: 'Chevy', model: 'Venture', price: 5000},
                {id: 4, year: 1996, make: 'Jeep', model: 'Grand Cherokee', price: 4799},
                {id: 5, year: 2005, make: 'Volvo', model: 'V70', price: 44799}
            ];

            function carsToTable() {
                carPriceFilter = cars.slice();
                var priceQ = document.getElementById("prisVaelger").value;
                var tbody = document.getElementById("tbody");

                if (priceQ !== "") {
                    var carPriceFilter = cars.filter(function (car) {
                        if (car.price < priceQ) {
                            return carPriceFilter;
                        }
                    });
                }

                tbody.innerHTML = "";
                var tableRow = document.getElementById("bilTabel");

                var carString = "";
                for (var i = 0; i < carPriceFilter.length; i++) {
                    carString += "<tr id=\"liId\" class=\"tr-elem\">\n<td>" + carPriceFilter[i].id + "</td>\n" +
                            "<td>" + carPriceFilter[i].year + "</td>\n" +
                            "<td>" + carPriceFilter[i].make + "</td>\n" +
                            "<td>" + carPriceFilter[i].model + "</td>\n" +
                            "<td>" + carPriceFilter[i].price + "</td>\n</tr>\n";
                }
                tbody.innerHTML += carString;
            }





        </script>








        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js" integrity="sha384-LtrjvnR4Twt/qOuYxE721u19sVFLVSA4hf/rRt6PrZTmiPltdZcI7q7PXQBYTKyf" crossorigin="anonymous"></script>
    </body>
</html>
